<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>czyzykowski.com - npmrc</title>

        <link rel="shortcut icon" href="../images/favicon.ico">
        <link rel="stylesheet" href="../css/uikit.min.css">
        <link rel="stylesheet" href="../css/syntax.css">
    </head>
    <body>
        <div class="uk-container uk-width-xxlarge">
            <hr class="uk-margin-xlarge-top" />
            <nav class="uk-position-small uk-position-fixed uk-position-right">
                
                  <a class="uk-margin-right" href="../">Home</a>
                
                <a class="uk-margin-right" href="../about.html">About</a>
                <a class="uk-margin-right" href="https://twitter.com/czyzykowski">Twitter</a>
            </nav>

            <article class="uk-article">

    <h1 class="uk-article-title">npmrc</h1>
    
        <p class="uk-text-lead uk-text-muted">Preventing mistakes</p>
    

		<section id="post-body">
            <h2 id="the-problem">The problem</h2>
<p>The best way to avoid making mistakes is to make sure they are impossible or, at least, hard to make.</p>
<p>My common problem when working with <code>npm</code> is to install a dependency but to forget to add it to <code>package.json</code>. One only needs to remember to add a flag (<code>--save</code>) when running <code>npm</code>. Yet when working on a particular problem such details can escape my attention.</p>
<h2 id="npm-configuration-file">npm configuration file</h2>
<p>Fortunately <code>npm</code> gives a way to make such behavior a default thanks to <a href="https://docs.npmjs.com/files/npmrc"><code>npmrc</code></a> file.</p>
<p>There are two options which I set.</p>
<h2 id="save">save</h2>
<p>Official documentation for <a href="https://docs.npmjs.com/misc/config#save">save</a> states:</p>
<blockquote>
<p>Save installed packages to a package.json file as dependencies.</p>
</blockquote>
<p>It’s exactly the same as manually adding <code>--save</code> to each <code>npm install</code>. That way it happens automatically and I don’t have to remember about it.</p>
<p>The following command will set it up:</p>
<pre><code>$ npm config set save=true</code></pre>
<p>In the odd case where I don’t want to save the dependency I can always reverse that default by running <code>npm install --no-save</code>.</p>
<h2 id="save-exact">save-exact</h2>
<p>Usually, it’s not a problem not to have exactly same versions of dependencies between development machine and production. But when it cause a problem it takes a lot of headaches to find it. To prevent that kind of mishap from happening I use <a href="https://docs.npmjs.com/misc/config#save-exact">save-exact</a> setting.</p>
<p>As per official documentation:</p>
<blockquote>
<p>Dependencies saved to package.json using –save, –save-dev or –save-optional will be configured with an exact version rather than using npm’s default semver range operator.</p>
</blockquote>
<p>Process of turning it is exactly the same as with the previous setting:</p>
<pre><code>$ npm config set save-exact=true</code></pre>
<h2 id="summary">Summary</h2>
<p>Mistakes happen no matter how diligent we are. Instead of wasting mental energy on being diligent it’s much easier to set up the work environment to prevent them in the first place. Or at least, make them less likely to happen. In the case of <code>npm</code>, there are two settings which greately help with day to day development: <code>save</code> and <code>save-exact</code>.</p>
		</section>

		<footer id="post-meta" class="clearfix">
      <hr />
      <div class="uk-grid">
        <p class="uk-article-meta uk-width-1-2">
          <span>Posted on</span> March 30
        </p>

        <p class="uk-article-meta uk-width-1-2 uk-text-right">
          <span>Written by</span> Łukasz Czyżykowski
        </p>
      </div>

      <div class="uk-text-center">
        <a class="uk-icon-button" href="https://twitter.com/share">
          <img src="../images/twitter.svg" width="16" height="16" alt="twitter icon" />
        </a>

        <a class="uk-icon-button" href="#" onclick="
            window.open(
              'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
              'facebook-share-dialog',
              'width=626,height=436');
            return false;">

          <img src="../images/facebook.svg" width="16" height="16" alt="facebook icon" />
        </a>
      </div>
		</footer>
	</article>

</section>


        </div>

        <script>
          if (window.location.hostname === 'czyzykowski.com') {
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-4012543-11', 'auto');
            ga('send', 'pageview');
          }
        </script>
    </body>
</html>
