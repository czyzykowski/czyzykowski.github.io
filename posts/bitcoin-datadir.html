<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>czyzykowski.com - Bitcoin-Qt data directory</title>

        <link rel="shortcut icon" href="../images/favicon.ico">
        <link rel="stylesheet" href="../css/uikit.min.css">
        <link rel="stylesheet" href="../css/syntax.css">
    </head>
    <body>
        <div class="uk-container uk-width-xxlarge">
            <hr class="uk-margin-xlarge-top" />
            <nav class="uk-position-small uk-position-fixed uk-position-right">
                
                  <a class="uk-margin-right" href="../">Home</a>
                
                <a class="uk-margin-right" href="../about.html">About</a>
                <a class="uk-margin-right" href="https://twitter.com/czyzykowski">Twitter</a>
            </nav>

            <article class="uk-article">

    <h1 class="uk-article-title">Bitcoin-Qt data directory</h1>
    
        <p class="uk-text-lead uk-text-muted">A quick tip</p>
    

		<section id="post-body">
            <p>Running your own bitcoin client is the best way to be sure that your wallet stays with you and is not at risk of being stolen from some server, together with thousands of others.</p>
<p>Although (most likely) your security is not enough to prevent an attack you are also not that appealing target for any potential hacker.</p>
<p>Because pf those reasons I run Bitcoin-Qt on my machine and don’t trust hosted solutions.</p>
<h2 id="the-problem">The problem</h2>
<p>One disadvantage of running the bitcoin client on my computer is that I need whole blockchain data to be able to participate in the network. Nowadays that’s quite a lot of data (it was 72GB last time I checked).</p>
<p>Even though hard disks are getting bigger sacrificing so much space for one application, which I ran from time to time, is a big deal. Especially as my main HD is SSD, which doesn’t belong to the cheapest.</p>
<p>I was looking for a way to solve this problem by moving blockchain data from my main hard disk.</p>
<h2 id="a-failed-attempt">A failed attempt</h2>
<p>Bitcoin-Qt as a good citizen of OS X stores its data in <code>~/Library/Application Support/Bitcoin</code>. Exactly where one would expect it to be.</p>
<p>My initial idea was to copy just the blockchain data (<code>blocks</code> subdirectory) to an external drive and in that place put a symlink pointing to the new destination.</p>
<p>In theory, it should work. Symlinks should be treated as the thing they point to. But it didn’t work. My guess is that there are internal checks which prevent from that kind of tampering with the very important data.</p>
<h2 id="the-solution">The solution</h2>
<p>Not being from ones who give up too easily I went to Google. Several queries later I found what I was looking for. On the <a href="https://en.bitcoin.it/wiki/Main_Page">bitcoin wiki</a> there’s a <a href="https://en.bitcoin.it/wiki/Data_directory">page</a> which mentions a command line switch <code>-datadir</code>. Using it one can point Bitcoin-Qt where it should look for all of its data.</p>
<p>Knowing about the switch I was able to move the data directory off from my main hard drive into a spare one, which I attach when it’s time to use bitcoin.</p>
<p>The only downside of that approach is that I have to start Bitcoin-Qt from the terminal. Not a big deal and something which I will probably fix in the future.</p>
		</section>

		<footer id="post-meta" class="clearfix">
      <hr />
      <div class="uk-grid">
        <p class="uk-article-meta uk-width-1-2">
          <span>Posted on</span> March 28
        </p>

        <p class="uk-article-meta uk-width-1-2 uk-text-right">
          <span>Written by</span> Łukasz Czyżykowski
        </p>
      </div>

      <div class="uk-text-center">
        <a class="uk-icon-button" href="https://twitter.com/share">
          <img src="../images/twitter.svg" width="16" height="16" alt="twitter icon" />
        </a>

        <a class="uk-icon-button" href="#" onclick="
            window.open(
              'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
              'facebook-share-dialog',
              'width=626,height=436');
            return false;">

          <img src="../images/facebook.svg" width="16" height="16" alt="facebook icon" />
        </a>
      </div>
		</footer>
	</article>

</section>


        </div>

        <script>
          if (window.location.hostname === 'czyzykowski.com') {
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-4012543-11', 'auto');
            ga('send', 'pageview');
          }
        </script>
    </body>
</html>
