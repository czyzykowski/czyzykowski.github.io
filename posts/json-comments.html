<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>czyzykowski.com - Comments in JSON</title>

        <link rel="shortcut icon" href="../images/favicon.ico">
        <link rel="stylesheet" href="../css/uikit.min.css">
        <link rel="stylesheet" href="../css/syntax.css">
    </head>
    <body>
        <div class="uk-container uk-width-xxlarge">
            <hr class="uk-margin-xlarge-top" />
            <nav class="uk-position-small uk-position-fixed uk-position-right">
                
                  <a class="uk-margin-right" href="../">Home</a>
                
                <a class="uk-margin-right" href="../about.html">About</a>
                <a class="uk-margin-right" href="https://twitter.com/czyzykowski">Twitter</a>
            </nav>

            <article class="uk-article">

    <h1 class="uk-article-title">Comments in JSON</h1>
    
        <p class="uk-text-lead uk-text-muted">Simple solution</p>
    

		<section id="post-body">
            <p>JSON files are often used for configuration. It’s convenient and widely supported format. Practically any programming language supports it.</p>
<p>In Node.js, it’s even possible to <code>require</code> it and get immediate access to the data contained.</p>
<p>An example:</p>
<div class="sourceCode"><pre class="sourceCode json"><code class="sourceCode json"><span class="fu">{</span>
  <span class="dt">&quot;test&quot;</span><span class="fu">:</span> <span class="fu">{</span>
    <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="dv">42</span>
  <span class="fu">}</span>
<span class="fu">}</span></code></pre></div>
<p>And then:</p>
<div class="sourceCode"><pre class="sourceCode js"><code class="sourceCode javascript"><span class="kw">const</span> config <span class="op">=</span> <span class="at">require</span>(<span class="st">'./config.json'</span>)<span class="op">;</span>

<span class="va">console</span>.<span class="at">log</span>(<span class="va">config</span>.<span class="va">test</span>.<span class="at">value</span>)<span class="op">;</span></code></pre></div>
<h2 id="problem-with-json-as-config">Problem with JSON as config</h2>
<p>But there’s one problem with JSON as a configuration file. It’s very common to include comments to explain what exactly each setting does. Especially in example configurations, that’s very helpful for someone who is just starting.</p>
<p>Because JSON was originally conceived as a data interchange format, the lack of comments is understandable. Nonetheless, it’s limiting when used for configuration purposes.</p>
<h2 id="simple-solution">Simple solution</h2>
<p>Fortunately, there’s a simple solution. One can add additional keys which will contain required description. That way there’s no need to detach the configuration file itself from the documentation. And additional data will be ignored by the application requiring it.</p>
<div class="sourceCode"><pre class="sourceCode json"><code class="sourceCode json"><span class="fu">{</span>
  <span class="dt">&quot;test_description&quot;</span><span class="fu">:</span> <span class="st">&quot;object holding important data&quot;</span><span class="fu">,</span>
  <span class="dt">&quot;test&quot;</span><span class="fu">:</span> <span class="fu">{</span>
    <span class="dt">&quot;value_description&quot;</span><span class="fu">:</span> <span class="st">&quot;the value to print&quot;</span><span class="fu">,</span>
    <span class="dt">&quot;value&quot;</span><span class="fu">:</span> <span class="dv">42</span>
  <span class="fu">}</span>
<span class="fu">}</span></code></pre></div>
<p>By convention, I use <code>_description</code> keys, so they are easily associated with the thing they are described.</p>
		</section>

		<footer id="post-meta" class="clearfix">
      <hr />
      <div class="uk-grid">
        <p class="uk-article-meta uk-width-1-2">
          <span>Posted on</span> March 17
        </p>

        <p class="uk-article-meta uk-width-1-2 uk-text-right">
          <span>Written by</span> Łukasz Czyżykowski
        </p>
      </div>

      <div class="uk-text-center">
        <a class="uk-icon-button" href="https://twitter.com/share">
          <img src="../images/twitter.svg" width="16" height="16" alt="twitter icon" />
        </a>

        <a class="uk-icon-button" href="#" onclick="
            window.open(
              'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
              'facebook-share-dialog',
              'width=626,height=436');
            return false;">

          <img src="../images/facebook.svg" width="16" height="16" alt="facebook icon" />
        </a>
      </div>
		</footer>
	</article>

</section>


        </div>

        <script>
          if (window.location.hostname === 'czyzykowski.com') {
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-4012543-11', 'auto');
            ga('send', 'pageview');
          }
        </script>
    </body>
</html>
